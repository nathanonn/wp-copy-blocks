(()=>{"use strict";const o=window.wp.plugins,c=window.wp.editor,e=window.ReactJSXRuntime,{createElement:t}=wp.element,{Button:s}=wp.components,{select:n}=wp.data,{__}=wp.i18n,r=o=>o.map((o=>{let c={name:o.name,attributes:o.attributes};return o.innerBlocks&&Array.isArray(o.innerBlocks)&&(c.innerBlocks=r(o.innerBlocks)),c})),i=()=>t("div",{className:"copy-blocks-json-button-container"},t(s,{isPrimary:!0,onClick:()=>{const o=n("core/block-editor").getBlocks(),c=r(o),e=JSON.stringify(c,null,2);navigator.clipboard.writeText(e).then((()=>{wp.data.dispatch("core/notices").createSuccessNotice(__("Blocks copied to clipboard as JSON!","wp-copy-blocks"),{type:"snackbar"})})).catch((o=>{wp.data.dispatch("core/notices").createErrorNotice(__("Failed to copy blocks to clipboard.","wp-copy-blocks"),{type:"snackbar"}),console.error("Failed to copy blocks:",o)}))},className:"copy-blocks-json-button"},__("Copy Blocks as JSON","wp-copy-blocks")));(0,o.registerPlugin)("wp-copy-blocks",{render:()=>(0,e.jsx)(c.PluginMoreMenuItem,{children:(0,e.jsx)(i,{})}),icon:"clipboard"})})();